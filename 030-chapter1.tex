\chapter{Огляд аналогових та цифрових датчиків}

\section{Загальні відомості про датчики температури}

% \thispagestyle{headings}

Спочатку потрібно розглянути загальні характеристики датчиків (вони у більшості своїй не належати до окремого типу датчиків).

Усі датчики можна поділити на два основних класи:

\begin{itemize}
    \item Пасивні датчики, які не потребують зовнішнього джерела живлення, і в залежності від взаємодії із зовнішнім середовищем генеруються електричний сигнал. Перевагами таких датчиків є те, що вони не мають вплив на зовнішнє середовище, мають низьку вартість, але водночас у таких датчиків складно встановити залежність між виміряним значенням (наприклад температурою) і напругою, потребують фільтрації шуму, що не завжди просто зробити.
    
    Прикладами таких датчиків є термопари, фотодіоди, п'єзоелементи, ультразвукові датчики відстані;
    \item Активні датчики, потребують зовнішнє джерело живлення -- сигнал збудження, такі датчики змінюють свої характеристики у відповідь на зміну зовнішніх сигналів, тобто перетворюють не електричні значення (температура) в опір, ємність або індуктивність. Вони простіші у зчитування значень. Прикладами таких датчиків є терморезистори, лазерні датчики відстані. 
\end{itemize}

Далі датчики можна поділити на наступні два підкласи:

\begin{itemize}
    \item Абсолютні, які вимірюють температуру чи будь-що без залежності від умов вимірів та зовнішнього середовища;
    \item Відносні -- результівний сигнал не показує точний стан вимірів, тобто потрібно додатково розрахувати ``правильне'' значення, в залежності від середовища та умов.
\end{itemize}

Знову ж таки, гарним прикладом таких підкласів є термопара та терморезистор: у той час, як у першому випадку на виході генерується відносний сигнал, який потрібно далі перерахувати беручи до уваги навколишню середу, опір терморезистор залежить тільки від температури.\\

\subsection{Аналогові та цифрові датчики}

За характеристикою результуючого сигналу датчики бувають аналогові та цифрові. Окремо взяті датчики з цих категорій, мають свої ``сильні'' характеристики, та область використання.

Так, аналогові датчики генеруються на виході неперервний електричний сигнал, який потрібно перетворити на дискретний за допомогою АЦП, і далі вже працювати з отриманим значенням для перетворення в одиницю вимірювання.

Своєю чергою, у цифрових датчиках вже присутня інтегральна мікросхема, яка перетворює вхідний сигнал, читати це значення вже можна за допомогою інтерфейсу, без або з мінімізацією подальших перетворювань. Калібрування таких датчиків часто робиться на виробництві.

Аналогові датчики забезпечують ширший діапазон вимірювання, наприклад термопара K типу, яка короткочасно без негативного впливу, може вимірювати температуру від $\ignorespaces -180^\circ~C$ до $\ignorespaces 1200^\circ~C$, але при цьому втрачає точність у деяких точках, має не ідеальну лінійну залежність, і є більше складним датчиком у використанні.

NTC термістор не може дати такий широкий спектр температур, але має надзвичайно високу швидкість реакції та є найдешевшим з датчиків.\\

\subsection{Характеристики датчиків}

При виборі датчика перш за все потрібно визначити потрібні вимоги до нього, в залежності від його подальшого застосування. Ці вимоги можуть бути описаними характеристиками, які присутні у datasheet потрібного датчика. Надзвичайно потрібно розуміти вимоги до датчика, адже ``ідеального'' датчика, під будь-які умови не існує.

Далі наведені найбільш типові характеристики датчиків і вимоги, які зазвичай вказуються в даташитах, або принаймні повинні бути вказані:

\begin{itemize}
    \item Робочий або динамічний діапазон деякої дії над датчиком (Input Full Scale), у разі температурних датчиків це, відповідно, температура, які можуть бути перетворені датчиком у напругу. Він є найвищим та найнижчим вхідним значенням, яке може бути застосовується до датчика, не викликаючи неприпустимо великої помилки або виходу датчика зі стану;
    \item Точність датчика, але взагалі позначається як можлива похибка. Похибка може бути як лінійна, мультиплікативна або нелінійна. У першому випадку вона постійна на всьому діапазоні виміру датчика, у другому збільшується при досягненні мінімального, або максимального значення, у третьому нелінійність на всьому діапазоні, у специфікації датчика часто вказуються графіки зміни точності.

    Процес калібрування датчиків може бути виконаний для підвищення точності та компенсації вище зазначених похибок;
    \item Роздільна здатність показує мінімальну зміну вимірюємої величини, яка призводить до зміни сигналу на виході. Аналогові датчики обмежені тільки роздільною здатністю АЦП;
    \item Робочий або динамічний діапазон датчика -- це інтервал значень вимірюваної величини, для якого датчик забезпечує прийнятні рівні точності та надійності;
    \item Функція перетворення -- це математична функція, яка визначає залежність вихідного сигналу датчика від вимірюваної фізичної величини (у цьому випадку, температури). Функція перетворення вказує, яким чином вихідний сигнал змінюється відповідно до зміни вхідної величини;
    \item Лінійність датчика -- показник того, наскільки точно функція перетворення може бути апроксимована лінійною функцією. Лінійний датчик легше калібрувати та використовувати;
    \item Час реакції, який потрібен датчику для виявлення та реакції на зміну вхідної величини.\\
\end{itemize}

\section{Вибір датчиків для експерименту}

Для порівняння були обрані наступні датчики (аналогові + цифрові) табл.~\ref{tab:comparison}. Саме така вибірка дозволить визначити як вибрати оптимальний датчик в залежності від цілі проєкту. Для отримання загального уявлення про методи вимірювання температури почнемо з аналогових датчиків: NTC терморезистора та термопари К-типу.

\begin{table}[h]
    \renewcommand{\arraystretch}{1.2}
    \caption{Порівняльна таблиця характеристик датчиків}
    \label{tab:comparison}
    \begin{tabular}{|M{3cm}|m{6cm}|m{6cm}|}
        \hline
        \textbf{Назва датчика} & \multicolumn{1}{c|}{\textbf{Базовий опис}} & \textbf{Основні характеристики} \\
        \hline
        NTC
        \includegraphics[width=\linewidth]{ntc.jpg}
        & Термістор, чутливий до зміни опору в залежності від температури. & Роздільна здатність: залежить від моделі, Робочий діапазон: від -50°C до +150°C, Протокол: аналоговий сигнал. \\
        \hline
        Термопара K типу
        \includegraphics[width=0.7\linewidth]{thermocouple.jpg}
        & Складається з двох металевих провідників, генерує мікровольтовий сигнал при зміні температури на місці їх з'єднання. & Роздільна здатність: залежить від попарних металів -- 0.1°C, Робочий діапазон: від -270°C до +1372°C, Протокол: аналоговий сигнал. \\
        \hline
        DS18B20
        \includegraphics[width=0.77\linewidth]{ds18b20.jpg}
        & Цифровий температурний сенсор, випускається фірмою Maxim Integrated. & Роздільна здатність: 0.0625°C, Робочий діапазон: від -55°C до +125°C, Протокол: 1-Wire. \\
        \hline
        DHT11
        \includegraphics[width=\linewidth]{dht11.jpg}
        & Цифровий температурно-вологісний сенсор. & Роздільна здатність: 1°C, Робочий діапазон температури: від 0°C до 50°C, Протокол: спеціальний протокол на базі однопровідного інтерфейсу. \\
        \hline
        DHT22
        \includegraphics[width=\linewidth]{dht22.jpg}
        & Також відомий як AM2302, цифровий температурно-вологісний сенсор. & Роздільна здатність: 0.1°C, Робочий діапазон температури: від -40°C до +80°C, Протокол: спеціальний протокол на базі однопровідного інтерфейсу. \\
        \hline
        HTU21D
        \includegraphics[width=0.6\linewidth]{htu21d1.jpg}
        & Цифровий температурно-вологісний сенсор, вироблений фірмою Measurement Specialties. & Роздільна здатність: 0.01°C, Робочий діапазон температури: від -40°C до +125°C, Протокол: I2C. \\
        \hline
    \end{tabular}
    \vspace{-3.3cm}
\end{table}

\clearpage

\input{031-analog-sensors.tex}

\input{032-digital-sensors.tex}

